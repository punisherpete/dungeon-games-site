(()=>{"use strict";var e,t,i,a={967522:(e,t,i)=>{i.d(t,{init:()=>d});var a=i(827627),n=i(550192);function d(e){var t=cur.player;if(t&&window.postMessage){var i=new n.default(e);t.on(a.STATE_CHANGE,(function(e,a){var n=e;switch("playing"==n&&(n="unstarted"==a?"started":"resumed"),n){case"started":case"resumed":case"paused":case"ended":case"error":i.send(n,{time:t.curTime()})}})),t.on(a.MEDIA_TIMEUPDATE,(function(){i.send("timeupdate",{time:t.curTime(),duration:t.getDuration()})})),t.on(a.MEDIA_VOLUMECHANGE,(function(){i.send("volumechange",{volume:t.getVolume(),muted:t.isMuted()})})),t.on(a.ADS_LINEAR_STARTED,(function(e){var t=e.section;cur.mvOpts.send_ad_events&&i.send("adStarted",{section:t})})),t.on(a.ADS_LINEAR_COMPLETED,(function(e){cur.mvOpts.send_ad_events&&i.send("adCompleted",{section:e})})),i.subscribe((function(e){switch(e.method){case"init":d();break;case"play":t.play();break;case"pause":t.pause();break;case"seek":t.seekTo(e.time,!1);break;case"set_volume":t.setVolume(e.volume,!1);break;case"mute":t.toggleMute(!0,!1);break;case"unmute":t.toggleMute(!1,!1)}})),d()}function d(){i.send("inited",{videoId:t.getVideoId(),state:t.getState(),time:t.curTime(),duration:t.getDuration(),volume:t.getVolume(),muted:t.isMuted()})}}},187938:(e,t,i)=>{i.d(t,{init:()=>o});var a=i(550192),n=i(695724),d=i(315544);function o(e){window.onLoaded((function(){var t=(0,d.ge)("video_player"),i=!1;if(t&&window.postMessage){t.addEventListener("play",r),t.addEventListener("pause",r),t.addEventListener("timeupdate",r),t.addEventListener("volumechange",r),t.addEventListener("ended",r),t.addEventListener("error",r);var o=new a.default(e);o.subscribe((function(e){switch(e.method){case"init":s();break;case"play":t.play();break;case"pause":t.pause();break;case"seek":t.currentTime=e.time;break;case"set_volume":t.volume=e.volume;break;case"mute":t.muted=!0;break;case"unmute":t.muted=!1}})),s()}function r(e){var a=e.type;"play"==a&&(a=i?"resumed":"started",i=!0),"pause"==a&&(a="paused"),"volumechange"==a?o.send(a,{volume:t.volume,muted:t.muted}):o.send(a,{time:(0,n.intval)(t.currentTime),duration:(0,n.intval)(t.duration)})}function s(){o.send("inited",{videoId:`${cur.mvOpts.oid}_${cur.mvOpts.vid}`,state:t.paused?t.error?"error":t.ended?"ended":i?"paused":"unstarted":"playing",time:(0,n.intval)(t.currentTime),duration:(0,n.intval)((0,d.domData)(t,"duration")),volume:t.volume,muted:t.muted})}}))}},550192:(e,t,i)=>{i.d(t,{default:()=>n});var a=i(695724);function n(e){return{subscribe(t){window.addEventListener("message",(function(i){if("*"===e&&i.source===window.parent)e=i.origin;else if(i.origin!==e||i.source!==window.parent)return;t(i.data)}))},send(t,i){window.parent.postMessage((0,a.extend)({event:t},i),e)}}}},944918:(e,t,i)=>{i.d(t,{playerCallback:()=>o});var a=i(967522),n=i(40906),d=i(315544),o={randomNumber:(0,n.irand)(1,1e9),onVideoPlayProgress:function(e,t,i,a,n){var d=e+"_"+t;a<5e3&&window.tnsStart!=d?window.tnsStart=d:a>n/2&&window.tnsEnd!=d&&(window.tnsEnd=d)},incViewCounter:function(e,t,i,a,n,d,o){ajax.post("/al_video.php",{act:"inc_view_counter",oid:e,vid:t,hash:i,curr_res:a,max_res:n,player:d||"flash",type:o,embed:1,yv:cur.mvOpts.yv?1:0},{})},rotateVideo:function(e,t,i,a){ajax.post("al_video.php",{act:"rotate_video",oid:e,vid:t,angle:i,hash:a},{})},onVideoResolutionChanged:function(e,t,i,a){window.resolution=a},onInitialized:function(){cur.mvOpts.js_api&&a.init(cur.mvOpts.origin)},onVideoPlayStarted:function(e,t,i,a,n,d,o,r){ajax.post("al_video.php",{act:"video_view_started",oid:e,vid:t,hash:i,quality:window.resolution||0,embed:1,yv:cur.mvOpts.yv?1:0,player_view_type:"embed",ov_id:d,app_version:o,media_provider:r},{})},onVideoPlayFinished:function(){},onVideoAdsLoadStarted:function(){},onVideoAdsPlayStarted:function(){},onVideoAdsPlayFinished:function(){},onVideoNextEmbedded:function(e){var t=(0,d.geByClass1)("video_box_wrap");VideoInitializer.initPlayer(t,"vk",e)}}},639095:(e,t,i)=>{i.d(t,{default:()=>o});var a=i(944918),n=i(315544),d=i(187938);const o={init(e){cur.mvOpts=e,window.resolution=0,window.videoCallback=function(e){var t=e.shift();if(a.playerCallback[t])a.playerCallback[t].apply(null,e);else{if(!window.Videoview||!Videoview.playerCallback[t])throw Error("Unregistered player callback: "+t);Videoview.playerCallback[t].apply(Videoview,e)}},e.mobile&&(this.initMobile(),e.js_api&&window.onLoaded((()=>{d.init(e.origin)})))},initMobile(){var e=(0,n.ge)("video_player"),t=(0,n.ge)("video_box_mobile_thumb");t&&window.HTMLVideoElement&&e instanceof HTMLVideoElement&&(e.hasAttribute("autoplay")||((0,n.removeClass)(t,"unshown"),(0,n.addClass)(e,"hidden"),t.addEventListener("click",(function(){(0,n.addClass)(t,"hidden"),(0,n.removeClass)(e,"hidden"),e.play()})),e.addEventListener("play",(function(){(0,n.addClass)(t,"hidden"),(0,n.removeClass)(e,"hidden")}))))},initMobileLiveHeartbeat:function(e,t,i,a){!function n(){ajax.post("/al_video.php",{act:"live_heartbeat",oid:e,vid:t,user_id:i,hash:a},{onFail:()=>!0}),setTimeout(n,5e3)}()}}},827627:(e,t,i)=>{i.r(t),i.d(t,{_INIT_VIDEO:()=>a,_DEINIT_VIDEO:()=>n,_RESIZE:()=>d,_DESTROY:()=>o,STATE_CHANGE:()=>r,QUALITIES_LIST_CHANGE:()=>s,QUALITIES_FPS_LIST_CHANGE:()=>u,SUBTITLES_LIST_CHANGED:()=>E,CHROMECAST_STATE_CHANGED:()=>l,CHROMECAST_DEVICE_NAME_CHANGED:()=>_,QUALITY_CHANGE:()=>c,MEDIA_TRAFFIC_SAVING_CHANGED:()=>v,SUBTITLE_TRACK_CHANGED:()=>m,SUBTITLE_CUE_CHANGE:()=>p,FULLSCREEN_CHANGE:()=>A,SEEK:()=>I,EXPANDED:()=>T,NEXT_TIMER_RESET:()=>f,NEXT_TIMER_START:()=>D,VIDEO_LIKE:()=>S,VIDEO_SHARE:()=>h,VIDEO_ADD:()=>C,VIDEO_BOOKMARK:()=>b,SUBSCRIBED:()=>g,LIVE_PHASE_CHANGE:()=>w,LIVE_DONATION:()=>O,LIVE_DURATION_CHANGE:()=>y,TIME_CODES_CHANGE:()=>L,MEDIA_TIMEUPDATE:()=>M,MEDIA_PROGRESS:()=>N,MEDIA_VOLUMECHANGE:()=>R,MEDIA_MUTED:()=>V,MEDIA_DURATIONCHANGE:()=>k,MEDIA_WAITING:()=>H,MEDIA_PLAYING:()=>U,MEDIA_PAUSE:()=>G,MEDIA_ENDED:()=>P,MEDIA_ERROR:()=>j,MEDIA_SEEKING:()=>B,MEDIA_SEEKED:()=>x,MEDIA_SUBTITLES_LIST_CHANGED:()=>F,MEDIA_SUBTITLE_TRACK_CHANGED:()=>K,MEDIA_PROVIDER_CHANGE:()=>W,MEDIA_LIVE_WARNING:()=>Y,MEDIA_LIVE_REWIND:()=>q,MEDIA_DASH_ZERO_TIME_CHANGE:()=>Q,MEDIA_FIRST_BYTES:()=>z,MEDIA_FIRST_FRAME:()=>X,MEDIA_HLS_LEVEL_LOADED:()=>Z,MEDIA_HLS_FRAG_LOADED:()=>$,UI_SEEKSTART:()=>J,UI_SEEKEND:()=>ee,UI_CONTROLS_HIDE:()=>te,UI_CONTROLS_SHOW:()=>ie,UI_STICKERS_PROMO_EVENT:()=>ae,UI_SUBTITLES_ENABLED_FROM_BTN:()=>ne,UI_ACTION_BUTTON_CLICKED:()=>de,UI_ACTION_BUTTON_SHOWN:()=>oe,UI_TOUCHED_BY_USER:()=>re,ADS_WAITING:()=>se,ADS_TIME_REMAINED:()=>ue,ADS_LINEAR_STARTED:()=>Ee,ADS_LINEAR_COMPLETED:()=>le,ADS_OVERLAY_STARTED:()=>_e,ADS_OVERLAY_COMPLETED:()=>ce,ADS_REQUEST:()=>ve});var a="_initVideo",n="_deinitVideo",d="_resize",o="_destroy",r="stateChange",s="qualitiesListChange",u="qualitiesFpsListChange",E="subtitlesListChanged",l="chromecastStateChanged",_="chromecastDeviceNameChanged",c="qualityChange",v="trafficSavingChanged",m="subtitleTrackChanged",p="subtitleCueChange",A="fullscreenChange",I="seek",T="expanded",f="nextTimerReset",D="nextTimerStart",S="videoLike",h="videoShare",C="videoAdd",b="videoBookmark",g="subscribed",w="livePhaseChange",O="liveDonation",y="liveDurationChange",L="timeCodesChange",M="media.timeupdate",N="media.progress",R="media.volumechange",V="media.muted",k="media.durationchange",H="media.waiting",U="media.playing",G="media.pause",P="media.ended",j="media.error",B="media.seeking",x="media.seeked",F="media.subtitles.list.changed",K="media.subtitle.track.changed",W="media.providerChange",Y="media.liveWarning",q="media.liveRewind",Q="media.dashZeroTimeChange",z="media.firstBytes",X="media.firstFrame",Z="media.hlsLevelLoaded",$="media.hlsFragLoaded",J="ui.seekstart",ee="ui.seekend",te="ui.controlsHide",ie="ui.controlsShow",ae="ui.stickersPromoEvent",ne="ui.subtitlesEnabledFromBtn",de="ui.actionButtonClicked",oe="ui.actionButtonShown",re="ui.touchedByUser",se="ads.waiting",ue="ads.timeRemained",Ee="ads.linearStarted",le="ads.linearCompleted",_e="ads.overlayStarted",ce="ads.overlayCompleted",ve="ads.request"},734978:(e,t,i)=>{var a=i(639095);window.VideoExt=a.default;try{window.stManager.done(window.jsc("web/video_ext.js"))}catch(e){}}},n={};function d(e){var t=n[e];if(void 0!==t)return t.exports;var i=n[e]={exports:{}};return a[e].call(i.exports,i,i.exports,d),i.exports}d.m=a,e=[],d.O=(t,i,a,n)=>{if(!i){var o=1/0;for(E=0;E<e.length;E++){for(var[i,a,n]=e[E],r=!0,s=0;s<i.length;s++)(!1&n||o>=n)&&Object.keys(d.O).every((e=>d.O[e](i[s])))?i.splice(s--,1):(r=!1,n<o&&(o=n));if(r){e.splice(E--,1);var u=a();void 0!==u&&(t=u)}}return t}n=n||0;for(var E=e.length;E>0&&e[E-1][2]>n;E--)e[E]=e[E-1];e[E]=[i,a,n]},d.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return d.d(t,{a:t}),t},i=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,d.t=function(e,a){if(1&a&&(e=this(e)),8&a)return e;if("object"==typeof e&&e){if(4&a&&e.__esModule)return e;if(16&a&&"function"==typeof e.then)return e}var n=Object.create(null);d.r(n);var o={};t=t||[null,i({}),i([]),i(i)];for(var r=2&a&&e;"object"==typeof r&&!~t.indexOf(r);r=i(r))Object.getOwnPropertyNames(r).forEach((t=>o[t]=()=>e[t]));return o.default=()=>e,d.d(n,o),n},d.d=(e,t)=>{for(var i in t)d.o(t,i)&&!d.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},d.e=()=>Promise.resolve(),d.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),d.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),d.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={24495:0};d.O.j=t=>0===e[t];var t=(t,i)=>{var a,n,[o,r,s]=i,u=0;for(a in r)d.o(r,a)&&(d.m[a]=r[a]);if(s)var E=s(d);for(t&&t(i);u<o.length;u++)n=o[u],d.o(e,n)&&e[n]&&e[n][0](),e[o[u]]=0;return d.O(E)},i=self.webpackChunkvk=self.webpackChunkvk||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var o=d.O(void 0,[76429,68592],(()=>d(734978)));o=d.O(o)})();